[HEADER]
VERSION=4
;Laserscanned suspension geometry base
;Originally by Aad Hofman

[_EXTENSION]
TORQUE_MODE_EX=2
FIX_PROGRESSIVE_RATE=1
USE_DWB2=0
DAMPER_LUTS=1

;[ODE]                          ;optional - tuning these parameters can help with stability. See Open Dynamics Engine Manual (http://ode.org/wiki/index.php/Manual#Joint_error_and_the_Error_Reduction_Parameter_.28ERP.29) for more information.
;ERP=0.9                        ;this is the AC default for certain joint types, others (and global value) are 0.3
;CFM=1                          ;*10^-7 - just did this to keep numbers more reasonable

[_EXTENSION_FLEX]
TORSIONAL_STIFFNESS=10000  ; Nm/deg
TORSIONAL_DAMPING=100  

[BASIC]
WHEELBASE=2.55					; Wheelbase distance in meters
CG_LOCATION=0.53						; Front Weight distribution in percentance

[ARB]
EXTEND=1
FRONT_MOTION_RATIO=1.0
FRONT=19333
REAR_MOTION_RATIO=1.0
REAR=4500
;F ARB diameter =
;F ARB MR = 0.734^2
;F ARB Droplink angle = ACF included
;F ARB dimension X = 290 (240)
;F ARB dimension Y = 780 (780)
;F ARB dimension Z = 410 (360)

;R ARB diameter =
;R ARB MR = 0.528^2
;R ARB Droplink angle = ACF included
;R ARB dimension X = 230 (180)
;R ARB dimension Y = 790 (790)
;R ARB dimension Z = 260 (210)

[FRONT]
TYPE=COSMIC
BASEY=-0.18								; Distance of CG from the center of the wheel in meters. Front Wheel Radius+BASEY=front CoG. Actual CG height =(FWR+FBasey)+(RWR+Rbasey))/CG_LOCATION%
TRACK=1.5986									; Track width in meters (from pivot 3D placement of the 3d model of a wheel)
;1.4986 JZA80
HUB_MASS=58.1
RIM_OFFSET=0.015
;ET35 Volk RE30
;0.020 spacer

;JZA80 Front Drift Geo

;High
;STEER_JOINT_0_POS_A = 0.000, 0.000, +0.025
;STEER_JOINT_0_POS_B = +0.003, 0.000, -0.041

;Low
;STEER_JOINT_0_POS_A = 0.000, 0.000, +0.025
;STEER_JOINT_0_POS_B = +0.008, 0.000, -0.043

DJ0=F_JZA80_UCA_FRONT
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.33232, 0.10017, 0.09048
DJ0_POS_B=0.11985, 0.13418, -0.00476

DJ1=F_JZA80_UCA_REAR
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.33232, 0.08519, -0.10001
DJ1_POS_B=0.11985, 0.13418, -0.00476
DJ1_KP=1

J0=F_JZA80_LCA_FRONT
J0_BODY_A=CHASSIS
J0_BODY_B=F_JZA80_LCA_BODY_2
J0_POS=0.42338, -0.12486, -0.01587

J1=F_JZA80_LCA_REAR
J1_BODY_A=F_JZA80_RLCA_PICKUP
J1_BODY_B=F_JZA80_LCA_BODY_2
J1_POS=0.42338, -0.11978, -0.35083

J2=F_JZA80_LCA_BJ
J2_BODY_A=F_JZA80_LCA_BODY
J2_BODY_B=HUB_L
J2_POS=0.07857, -0.11483, 0.01143
J2_KP=0

STEER_JOINT_0=F_JZA80_TOE
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.41195, -0.08149, 0.08890 ;Stock
STEER_JOINT_0_POS_A_1=0.41195, -0.08149, 0.11390 ;High
STEER_JOINT_0_POS_A_2=0.41195, -0.08149, 0.11390 ;Low

STEER_JOINT_0_POS_B=0.06905, -0.06120, 0.14287 ;Stock
STEER_JOINT_0_POS_B_1=0.07205, -0.06120, 0.10187 ;High
STEER_JOINT_0_POS_B_2=0.07705, -0.06120, 0.09987 ;Low

;JZA80 Front Adjusters

BODY_1_NAME=F_JZA80_RLCA_PICKUP
BODY_1_MASS=1
BODY_1_INERTIA=0.1, 0.1, 0.1
BODY_1_POS=0.42338, -0.11978, -0.35083
BODY_1_MIRROR=1

SLIDER_0=F_JZA80_RLCA_SLIDER
SLIDER_0_BODY_A=CHASSIS
SLIDER_0_BODY_B=F_JZA80_RLCA_PICKUP
SLIDER_0_POS_A=0.52338, -0.11978, -0.35083
SLIDER_0_POS_B=0.42338, -0.11978, -0.35083
SLIDER_0_PARITY=-1

DJ2=F_JZA80_RLCA_ADJUSTER
DJ2_BODY_A=CHASSIS
DJ2_BODY_B=F_JZA80_RLCA_PICKUP
DJ2_POS_A=0.52338, -0.11978, -0.35083
DJ2_POS_B=0.42338, -0.11978, -0.35083

SLIDER_1=F_JZA80_LCA_BODY_SLIDER
SLIDER_1_BODY_A=F_JZA80_LCA_BODY
SLIDER_1_BODY_B=F_JZA80_LCA_BODY_2
SLIDER_1_POS_A=0.25098, -0.11858, -0.08596
SLIDER_1_POS_B=0.35098, -0.11858, -0.08596
SLIDER_1_PARITY=-1

DJ3=F_JZA80_LCA_BODY_ADJUSTER
DJ3_BODY_A=F_JZA80_LCA_BODY
DJ3_BODY_B=F_JZA80_LCA_BODY_2
DJ3_POS_A=0.25098, -0.11858, -0.08596
DJ3_POS_B=0.35098, -0.11858, -0.08596

;JZA80 Front Sim Stuff

BODY_0_NAME=F_JZA80_LCA_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.25098, -0.11858, -0.08596
BODY_0_MIRROR=1

BODY_2_NAME=F_JZA80_LCA_BODY_2
BODY_2_MASS=1
BODY_2_INERTIA=0.1, 0.1, 0.1
BODY_2_POS=0.25098, -0.11858, -0.08596
BODY_2_MIRROR=1

TOE_OUT=0.00000 ;-0.10
STATIC_CAMBER=-0.51 ;-3.00
STEER_JOINT_0_LENGTH_OFFSET=0.00291 ;Steer Toe
DJ0_LENGTH_OFFSET=0.00001 ;UCA F Camber
DJ1_LENGTH_OFFSET=0.00001 ;UCA R Camber
DJ3_LENGTH_OFFSET=0.00401 ;LCA Camber
DJ2_LENGTH_OFFSET=0.00451 ;RLCA Caster
;30L, Driver, Drift

[FRONT_COILOVER_0] ;Corner spring
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=0
PRELOAD=0.011 ;0.038, 0.011
;(Drift -0.040 @ wheel, -0.027 @ damper)

BODY_A=CHASSIS
BODY_B=F_JZA80_LCA_BODY
POS_A=0.38000, 0.40000, -0.00000
POS_B=0.19511, -0.06822, 0.00220
;AXIS 0.19511, -0.11822, 0.00220

MIN_LENGTH=0.41141
MAX_LENGTH=0.50641
BUMPSTOP_GAP=0.047

;DAMPER_TRAVEL = 0.060, 0.030
;PACKER_HEIGHT = 0.040
;BUMPSTOP_GAP = 0.020 + 0.027 = 0.047
;DAMPER_LENGTH = 0.50341 - 0.027 = 0.47641

INSTALL_RATE=1542857.143
RATE=156960
;16

[REAR]
TYPE=COSMIC
BASEY=-0.20									; Distance of CG from the center of the wheel in meters. Rear Wheel Radius+BASEY=Rear CoG  Actual CG height =(FWR+FBasey)+(RWR+Rbasey))/CG_LOCATION%
TRACK=1.624
;1.524 JZA80
HUB_MASS=54.9
RIM_OFFSET=0.025
;ET35 Volk RE30
;0.010 spacer

;JZA80 Rear Geo

DJ0=R_JZA80_UCA_FRONT
DJ0_BODY_A=CHASSIS_REAR
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.38020, 0.10424, 0.12700
DJ0_POS_B=0.12620, 0.14281, -0.01420

DJ1=R_JZA80_UCA_REAR
DJ1_BODY_A=CHASSIS_REAR
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.42306, 0.14234, -0.10312
DJ1_POS_B=0.12620, 0.14281, -0.01420
DJ1_KP=1

DJ2=R_JZA80_LCA_FRONT
DJ2_BODY_A=CHASSIS_REAR
DJ2_BODY_B=HUB_L
DJ2_POS_A=0.31987, -0.06720, 0.31902
DJ2_POS_B=0.12143, -0.14500, -0.02857

J0=R_JZA80_LCA_REAR
J0_BODY_A=CHASSIS_REAR
J0_BODY_B=R_JZA80_LCA_REAR_BODY_2
J0_POS=0.46275, -0.07787, -0.10477

J1=R_JZA80_LCA_REAR_BJ
J1_BODY_A=R_JZA80_LCA_REAR_BODY
J1_BODY_B=HUB_L
J1_POS=0.12620, -0.10054, -0.11000
J1_KP=0

STEER_JOINT_0=R_JZA80_TOE
STEER_JOINT_0_BODY_A=CHASSIS_REAR
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.34051, -0.06403, 0.13487
STEER_JOINT_0_POS_B=0.12620, -0.08184, 0.11125

;JZA80 Rear Adjusters

SLIDER_0=R_JZA80_LCA_REAR_BODY_SLIDER
SLIDER_0_BODY_A=R_JZA80_LCA_REAR_BODY
SLIDER_0_BODY_B=R_JZA80_LCA_REAR_BODY_2
SLIDER_0_POS_A=0.29447, -0.08920, -0.10738
SLIDER_0_POS_B=0.39447, -0.08920, -0.10738
SLIDER_0_PARITY=-1

DJ4=R_JZA80_LCA_REAR_BODY_ADJUSTER
DJ4_BODY_A=R_JZA80_LCA_REAR_BODY
DJ4_BODY_B=R_JZA80_LCA_REAR_BODY_2
DJ4_POS_A=0.29447, -0.08920, -0.10738
DJ4_POS_B=0.39447, -0.08920, -0.10738

;JZA80 Rear Sim Stuff

DJ3=R_JZA80_LCA_REAR_HOOKES
DJ3_BODY_A=CHASSIS_REAR
DJ3_BODY_B=R_JZA80_LCA_REAR_BODY_2
DJ3_POS_A=0.46275, 0.02213, -0.10477
DJ3_POS_B=0.46275, -0.07787, -0.00477

BODY_1_NAME=R_JZA80_LCA_REAR_BODY
BODY_1_MASS=1
BODY_1_INERTIA=0.1, 0.1, 0.1
BODY_1_POS=0.29447, -0.08920, -0.10738
BODY_1_MIRROR=1

BODY_2_NAME=R_JZA80_LCA_REAR_BODY_2
BODY_2_MASS=1
BODY_2_INERTIA=0.1, 0.1, 0.1
BODY_2_POS=0.29447, -0.08920, -0.10738
BODY_2_MIRROR=1

BODY_0_NAME=CHASSIS_REAR
BODY_0_MASS=617.985
;1565 - ((58.1 * 2) + (54.9 * 2) + (1 * 10)))  * (1 - 0.535)
BODY_0_INERTIA=1.300, 1.300, 4.300
BODY_0_CARPOS=0, 0, 0

HJ0=TORSION_HINGE
HJ0_BODY_A=CHASSIS
HJ0_BODY_B=CHASSIS_REAR
HJ0_CARPOS_A=0, 0, 1
HJ0_CARPOS_B=0, 0, -1

ENGINE_TORQUE_BODY=CHASSIS_REAR

TOE_OUT=0.00000 ;+0.10
STATIC_CAMBER=-1.61 ;-0.00
STEER_JOINT_0_LENGTH_OFFSET=-0.00651 ;Steer Toe
DJ0_LENGTH_OFFSET=0.00501 ;UCA F Camber
DJ1_LENGTH_OFFSET=0.00501 ;UCA R Camber
DJ4_LENGTH_OFFSET=-0.00701 ;LCA R Camber
DJ2_LENGTH_OFFSET=-0.00701 ;LCA F Bumpsteer
;30L, Driver, Drift

[REAR_COILOVER_0] ;Corner spring
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=0
PRELOAD=0.011 ;0.047, 0.011
;(Drift -0.040 @ wheel, -0.036 @ damper)

BODY_A=CHASSIS_REAR
BODY_B=R_JZA80_LCA_REAR_BODY
POS_A=0.35000, 0.37000, -0.10000
POS_B=0.18475, -0.10159, -0.10908
;AXIS 0.18475, -0.09659, -0.10908

MIN_LENGTH=0.36379
MAX_LENGTH=0.51379
BUMPSTOP_GAP=0.076

;DAMPER_TRAVEL = 0.080, 0.050
;PACKER_HEIGHT = 0.040
;BUMPSTOP_GAP = 0.040 + 0.036 = 0.076
;DAMPER_LENGTH = 0.49979 - 0.036 = 0.46379

INSTALL_RATE=1542857.143
RATE=78480
;8

[REAR_TORSION_0]
RATE=8100
PRELOAD=0
HINGE=TORSION_HINGE
PARITY=0

[REAR_DAMPER_0] ;Torsion damper
BODY_A=CHASSIS
BODY_B=CHASSIS_REAR
POS_A=0, 1, 0
POS_B=0, 0, 0
DAMP_BUMP=10000
DAMP_FAST_BUMP=10000
DAMP_FAST_BUMPTHRESHOLD=1
DAMP_REBOUND=10000
DAMP_FAST_REBOUND=10000
DAMP_FAST_REBOUNDTHRESHOLD=1
PARITY=0

[GRAPHICS_OFFSETS]
WHEEL_LF=-0.0					;Left front graphical offset of the wheel positioning in the x axis (width). + is left - is right movement
SUSP_LF=-0.0					;Left front graphical offset of the suspension positioning in the x axis (width). + is left - is right movement
WHEEL_RF=0.0					; Right front as above
SUSP_RF=0.0				; Right front as above
WHEEL_LR=-0.01					; Left rear as above
SUSP_LR=-0.01					; Left rear as above
WHEEL_RR=0.01					; Right rear as above
SUSP_RR=0.01				; Right rear as above

[DAMAGE]
MIN_VELOCITY=40				; MINUMUM VELOCITY TO START TAKING DAMAGE
GAIN=0.0004					; AMOUNT OF STEER ROD DEFLECTION FOR IMPACT KMH
MAX_DAMAGE=0.05			; MAXIMUM AMOUNT OF STEER ROD DEFLECTION ALLOWED
DEBUG_LOG=1					; ACTIVATES DAMAGE DEBUG IN THE LOG

