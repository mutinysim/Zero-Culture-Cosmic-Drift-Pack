[HEADER]
VERSION=4

[_EXTENSION]
TORQUE_MODE_EX=2
FIX_PROGRESSIVE_RATE=1
USE_DWB2=0
DAMPER_LUTS=1

;[ODE]                          ;optional - tuning these parameters can help with stability. See Open Dynamics Engine Manual (http://ode.org/wiki/index.php/Manual#Joint_error_and_the_Error_Reduction_Parameter_.28ERP.29) for more information.
;ERP=0.9                        ;this is the AC default for certain joint types, others (and global value) are 0.3
;CFM=1                          ;*10^-7 - just did this to keep numbers more reasonable

[_EXTENSION_FLEX]
TORSIONAL_STIFFNESS=8000  ; Nm/deg
TORSIONAL_DAMPING=100  

[BASIC]
WHEELBASE=2.425					; Wheelbase distance in meters
CG_LOCATION=0.50						; Front Weight distribution in percentance

[ARB]
EXTEND=1
FRONT_MOTION_RATIO=1.0
FRONT=19200
REAR_MOTION_RATIO=1.0
REAR=6962
;F ARB diameter =
;F ARB MR = 0.484^2
;F ARB Droplink angle = 0.0deg = 1.0
;F ARB dimension X = 205
;F ARB dimension Y = 765
;F ARB dimension Z = 255

;R ARB diameter =
;R ARB MR = 0.765^2
;R ARB Droplink angle = N/A
;R ARB dimension X = 161 (135)
;R ARB dimension Y = 995 (995)
;R ARB dimension Z = 166 (140)


[FRONT]
TYPE=COSMIC
BASEY=-0.170
TRACK=1.560
;1.460 FD3S
HUB_MASS=40
RIM_OFFSET=0.018
;0.038 wheel
;0.020 spacer

;FD3S Front Drift Geo

;Rack spacers +30deg

;High
;X = sin10.0 = 0.1050 + (0.17364818 * -0.033) = 0.09926
;Z = sin80.0 = 0.1500 + (0.98480775 * -0.033) = 0.11750
;STEER_JOINT_0_POS_A = 0.0000, 0.0000, +0.0250
;STEER_JOINT_0_POS_B = -0.0060, 0.0000, 0.0000

;Low
;X = sin10.0 = 0.1050 + (0.17364818 * -0.035) = 0.09892
;Z = sin80.0 = 0.1500 + (0.98480775 * -0.035) = 0.11553
;STEER_JOINT_0_POS_A = 0.0000, 0.0000, +0.0250
;STEER_JOINT_0_POS_B = 0.0000, 0.0000, -0.0010

DJ0=F_FD3S_UCA_FRONT
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.34687, 0.12337, 0.0900
DJ0_POS_B=0.16664, 0.14680, -0.0309

DJ1=F_FD3S_UCA_REAR
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.33882, 0.10917, -0.1100
DJ1_POS_B=0.16664, 0.14680, -0.0309
DJ1_KP=1

J0=F_FD3S_LCA_FRONT
J0_BODY_A=F_FD3S_FLCA_PICKUP
J0_BODY_B=F_FD3S_LCA_BODY_2
J0_POS=0.38316, -0.11990, -0.0200

J1=F_FD3S_LCA_REAR
J1_BODY_A=F_FD3S_RLCA_PICKUP
J1_BODY_B=F_FD3S_LCA_BODY_2
J1_POS=0.38316, -0.09990, -0.3000

J2=F_FD3S_LCA_BJ
J2_BODY_A=F_FD3S_LCA_BODY
J2_BODY_B=HUB_L
J2_POS=0.10509, -0.10151, 0.0000
J2_KP=0

STEER_JOINT_0=F_FD3S_TOE
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.4100, -0.1060, 0.0800 ;Stock
STEER_JOINT_0_POS_A_1=0.4100, -0.1060, 0.1050 ;High
STEER_JOINT_0_POS_A_2=0.4100, -0.1060, 0.1050 ;Low

STEER_JOINT_0_POS_B=0.1050, -0.0900, 0.1500 ;Stock
STEER_JOINT_0_POS_B_1=0.09326, -0.0900, 0.11750 ;High
STEER_JOINT_0_POS_B_2=0.09892, -0.0900, 0.11453 ;Low

;FD3S Front Adjusters

BODY_2_NAME=F_FD3S_RLCA_PICKUP
BODY_2_MASS=1
BODY_2_INERTIA=0.1, 0.1, 0.1
BODY_2_POS=0.38316, -0.09990, -0.3000
BODY_2_MIRROR=1

SLIDER_0=F_FD3S_RLCA_SLIDER
SLIDER_0_BODY_A=CHASSIS
SLIDER_0_BODY_B=F_FD3S_RLCA_PICKUP
SLIDER_0_POS_A=0.48316, -0.09990, -0.3000
SLIDER_0_POS_B=0.38316, -0.09990, -0.3000
SLIDER_0_PARITY=-1

DJ2=F_FD3S_RLCA_ADJUSTER
DJ2_BODY_A=CHASSIS
DJ2_BODY_B=F_FD3S_RLCA_PICKUP
DJ2_POS_A=0.48316, -0.09990, -0.3000
DJ2_POS_B=0.38316, -0.09990, -0.3000

SLIDER_1=F_FD3S_LCA_BODY_SLIDER
SLIDER_1_BODY_A=F_FD3S_LCA_BODY
SLIDER_1_BODY_B=F_FD3S_LCA_BODY_2
SLIDER_1_POS_A=0.24413, -0.10571, -0.08000
SLIDER_1_POS_B=0.34413, -0.10571, -0.08000
SLIDER_1_PARITY=-1

DJ3=F_FD3S_LCA_BODY_ADJUSTER
DJ3_BODY_A=F_FD3S_LCA_BODY
DJ3_BODY_B=F_FD3S_LCA_BODY_2
DJ3_POS_A=0.24413, -0.10571, -0.08000
DJ3_POS_B=0.34413, -0.10571, -0.08000

;FD3S Front Sim Stuff

BODY_0_NAME=F_FD3S_LCA_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.24413, -0.10571, -0.08000
BODY_0_MIRROR=1

BODY_1_NAME=F_FD3S_LCA_BODY_2
BODY_1_MASS=1
BODY_1_INERTIA=0.1, 0.1, 0.1
BODY_1_POS=0.24413, -0.10571, -0.08000
BODY_1_MIRROR=1

TOE_OUT=0.00000 ;-0.05
STATIC_CAMBER=-0.11 ;-3.00
STEER_JOINT_0_LENGTH_OFFSET=0.00311 ;Steer Toe
DJ0_LENGTH_OFFSET=-0.00401 ;UCA F Camber
DJ1_LENGTH_OFFSET=-0.00401 ;UCA R Camber
DJ3_LENGTH_OFFSET=0.00401 ;LCA Camber
DJ2_LENGTH_OFFSET=0.00301 ;RLCA Caster
;30L, Driver, Drift

[FRONT_COILOVER_0] ;Corner spring
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=0
PRELOAD=0.016 ;0.041, 0.016
;(Drift -0.040 @ wheel, -0.025 @ damper)

BODY_A=CHASSIS
BODY_B=F_FD3S_LCA_BODY
POS_A=0.30270, 0.42261, -0.0100
POS_B=0.20050, -0.06703, 0.0000

MIN_LENGTH=0.42429
MAX_LENGTH=0.50629
BUMPSTOP_GAP=0.045

;DAMPER_TRAVEL = 0.051, 0.031
;PACKER_HEIGHT = 0.031
;BUMPSTOP_GAP = 0.020 + 0.025 = 0.045
;DAMPER_LENGTH = 0.50029 - 0.025 = 0.47529

INSTALL_RATE=1542857.143
RATE=117720

[REAR]
TYPE=COSMIC
BASEY=-0.170
TRACK=1.560
;1.460 ET50
HUB_MASS=40
RIM_OFFSET=0.028
;0.038 wheel
;0.010 spacer

;FD3S Rear Geo

J0=R_FD3S_UCA_FRONT
J0_BODY_A=CHASSIS_REAR
J0_BODY_B=R_FD3S_UCA_BODY
J0_POS=0.3534, 0.12674, 0.0800

J1=R_FD3S_UCA_REAR
J1_BODY_A=CHASSIS_REAR
J1_BODY_B=R_FD3S_UCA_BODY
J1_POS=0.3934, 0.14074, -0.0800

J2=R_FD3S_UCA_BJ
J2_BODY_A=R_FD3S_UCA_BODY
J2_BODY_B=HUB_L
J2_POS=0.15369, 0.14219, -0.0400
J2_KP=1

DJ0=R_FD3S_LCA_FRONT
DJ0_BODY_A=CHASSIS_REAR
DJ0_BODY_B=R_FD3S_LCA_REAR_BODY
DJ0_POS_A=0.2498, -0.07777, 0.4000
DJ0_POS_B=0.17184, -0.11425, -0.0625

J3=R_FD3S_LCA_REAR
J3_BODY_A=R_FD3S_RLCA_PICKUP
J3_BODY_B=R_FD3S_LCA_REAR_BODY
J3_POS=0.42926, -0.10782, -0.0700

J4=R_FD3S_RLCA_BJ
J4_BODY_A=R_FD3S_LCA_REAR_BODY
J4_BODY_B=HUB_L
J4_POS=0.07957, -0.11445, -0.0600
J4_KP=0

STEER_JOINT_0=R_FD3S_TOE
STEER_JOINT_0_BODY_A=CHASSIS_REAR
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.30933, 0.01046, 0.2200
STEER_JOINT_0_POS_B=0.097911, 0.01257, 0.1600

;FD3S Rear Adjusters

BODY_3_NAME=R_FD3S_RLCA_PICKUP
BODY_3_MASS=1
BODY_3_INERTIA=0.1, 0.1, 0.1
BODY_3_POS=0.42926, -0.10782, -0.0700
BODY_3_MIRROR=1

SLIDER_0=R_FD3S_RLCA_SLIDER
SLIDER_0_BODY_A=CHASSIS_REAR
SLIDER_0_BODY_B=R_FD3S_RLCA_PICKUP
SLIDER_0_POS_A=0.52926, -0.10782, -0.0700
SLIDER_0_POS_B=0.42926, -0.10782, -0.0700
SLIDER_0_PARITY=-1

DJ1=R_FD3S_RLCA_ADJUSTER
DJ1_BODY_A=CHASSIS_REAR
DJ1_BODY_B=R_FD3S_RLCA_PICKUP
DJ1_POS_A=0.52926, -0.10782, -0.0700
DJ1_POS_B=0.42926, -0.10782, -0.0700

;FD3S Rear Sim Stuff

DJ2=R_FD3S_LCA_REAR_HOOKES
DJ2_BODY_A=R_FD3S_RLCA_PICKUP
DJ2_BODY_B=R_FD3S_LCA_REAR_BODY
DJ2_POS_A=0.42926, -0.00782, -0.0700
DJ2_POS_B=0.42926, -0.10782, 0.0300

BODY_1_NAME=R_FD3S_UCA_BODY
BODY_1_MASS=1
BODY_1_INERTIA=0.1, 0.1, 0.1
BODY_1_POS=0.26355, 0.13797, -0.02000
BODY_1_MIRROR=1

BODY_2_NAME=R_FD3S_LCA_REAR_BODY
BODY_2_MASS=1
BODY_2_INERTIA=0.1, 0.1, 0.1
BODY_2_POS=0.25442, -0.11114, -0.06500
BODY_2_MIRROR=1

BODY_0_NAME=CHASSIS_REAR
BODY_0_MASS=550.935
;1285 - ((40 * 2) + (40 * 2) + (1 * 12)))  * (1 - 0.505)
BODY_0_INERTIA=1.274, 1.109, 4.013
BODY_0_CARPOS=0, 0, 0

HJ0=TORSION_HINGE
HJ0_BODY_A=CHASSIS
HJ0_BODY_B=CHASSIS_REAR
HJ0_CARPOS_A=0, 0, 1
HJ0_CARPOS_B=0, 0, -1

ENGINE_TORQUE_BODY=CHASSIS_REAR

TOE_OUT=0.00000 ;+0.10
STATIC_CAMBER=-1.01 ;-0.30
STEER_JOINT_0_LENGTH_OFFSET=-0.00381 ;Steer Toe
DJ1_LENGTH_OFFSET=-0.00651 ;RLCA Camber
DJ0_LENGTH_OFFSET=-0.00301 ;LCA F Bumpsteer
;30L, Driver, Drift

[REAR_COILOVER_0] ;Corner spring
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=0
PRELOAD=0.004 ;0.034, 0.004
;(Drift -0.040 @ wheel, -0.030 @ damper)

BODY_A=CHASSIS_REAR
BODY_B=R_FD3S_UCA_BODY
POS_A=0.31298, 0.56245, -0.0100
POS_B=0.2112, 0.1229, -0.0300

MIN_LENGTH=0.35262
MAX_LENGTH=0.44362
BUMPSTOP_GAP=0.068

;DAMPER_TRAVEL = 0.069, 0.022
;PACKER_HEIGHT = 0.031
;BUMPSTOP_GAP = 0.038 + 0.030 = 0.068
;DAMPER_LENGTH = 0.45162 - 0.030 = 0.42162

INSTALL_RATE=1542857.143
RATE=117720

[REAR_TORSION_0]
RATE=15000
PRELOAD=0
HINGE=TORSION_HINGE
PARITY=0

[REAR_DAMPER_0] ;Torsion damper
BODY_A=CHASSIS
BODY_B=CHASSIS_REAR
POS_A=0, 1, 0
POS_B=0, 0, 0
DAMP_BUMP=10000
DAMP_FAST_BUMP=10000
DAMP_FAST_BUMPTHRESHOLD=1
DAMP_REBOUND=10000
DAMP_FAST_REBOUND=10000
DAMP_FAST_REBOUNDTHRESHOLD=1
PARITY=0

[GRAPHICS_OFFSETS]
WHEEL_LF=-0.0					;Left front graphical offset of the wheel positioning in the x axis (width). + is left - is right movement
SUSP_LF=-0.0					;Left front graphical offset of the suspension positioning in the x axis (width). + is left - is right movement
WHEEL_RF=0.0					; Right front as above
SUSP_RF=0.0				; Right front as above
WHEEL_LR=-0.01					; Left rear as above
SUSP_LR=-0.01					; Left rear as above
WHEEL_RR=0.01					; Right rear as above
SUSP_RR=0.01			; Right rear as above

[DAMAGE]
MIN_VELOCITY=40				; MINUMUM VELOCITY TO START TAKING DAMAGE
GAIN=0.0004					; AMOUNT OF STEER ROD DEFLECTION FOR IMPACT KMH
MAX_DAMAGE=0.05			; MAXIMUM AMOUNT OF STEER ROD DEFLECTION ALLOWED
DEBUG_LOG=1					; ACTIVATES DAMAGE DEBUG IN THE LOG

