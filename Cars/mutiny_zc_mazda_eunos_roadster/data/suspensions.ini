[HEADER]
VERSION=4

[_EXTENSION]
TORQUE_MODE_EX=2
FIX_PROGRESSIVE_RATE=1
USE_DWB2=0
DAMPER_LUTS=1

;[ODE]                          ;optional - tuning these parameters can help with stability. See Open Dynamics Engine Manual (http://ode.org/wiki/index.php/Manual#Joint_error_and_the_Error_Reduction_Parameter_.28ERP.29) for more information.
;ERP=0.9                        ;this is the AC default for certain joint types, others (and global value) are 0.3
;CFM=1                          ;*10^-7 - just did this to keep numbers more reasonable

[_EXTENSION_FLEX]
TORSIONAL_STIFFNESS=10000  ; Nm/deg
TORSIONAL_DAMPING=100  

[BASIC]
WHEELBASE=2.3
CG_LOCATION=0.540
;52.0% with one occupant and fuel
;51.5% with two occupants and fuel

[ARB]
EXTEND=1
FRONT_MOTION_RATIO=1.0
FRONT=4149
REAR_MOTION_RATIO=1.0
REAR=4230
;F ARB diameter = 19.0 OD Solid
;F ARB MR = 0.548^2
;F ARB Droplink angle = 0.0deg = 1.0
;F ARB dimension X = 235
;F ARB dimension Y = 822
;F ARB dimension Z = 235

;R ARB diameter = 11.0 OD Solid
;R ARB MR = 0.586^2
;R ARB Droplink angle = N/A
;R ARB dimension X = 122
;R ARB dimension Y = 813
;R ARB dimension Z = 122

[FRONT]
TYPE=COSMIC
BASEY=-0.205								; Distance of CG from the center of the wheel in meters. Front Wheel Radius+BASEY=front CoG. Actual CG height =(FWR+FBasey)+(RWR+Rbasey))/CG_LOCATION%
TRACK=1.495							; Track width in meters (from pivot 3D placement of the 3d model of a wheel)
;NA 1.405 (ET45)
;NB 1.415 (ET40)
HUB_MASS=29.5
;29.5kg NA
RIM_OFFSET=-0.0035
;NA 0.045
;NB 0.040
;Watanabe RS Type-A 7.5XJ14 -0.0035

;MX5 NA Front Drift Geo

;High
;STEER_JOINT_0_POS_A = 0.000, 0.000, +0.025
;STEER_JOINT_0_POS_B = +0.002, 0.000, -0.026

;Low
;STEER_JOINT_0_POS_A = 0.000, 0.000, +0.025
;STEER_JOINT_0_POS_B = +0.007, 0.000, -0.028

DJ0=F_MX5_NA_UCA_FRONT
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.377350, 0.092104, 0.10089
DJ0_POS_B=0.135000, 0.136070, -0.01600

DJ1=F_MX5_NA_UCA_REAR
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.386075, 0.074891, -0.122853
DJ1_POS_B=0.135000, 0.136070, -0.016000
DJ1_KP=1

J0=F_MX5_NA_LCA_FRONT
J0_BODY_A=CHASSIS
J0_BODY_B=F_MX5_NA_LCA_BODY
J0_POS=0.435603, -0.094582, -0.022964

J1=F_MX5_NA_LCA_REAR
J1_BODY_A=F_MX5_NA_RLCA_PICKUP
J1_BODY_B=F_MX5_NA_LCA_BODY
J1_POS=0.435603, -0.094810, -0.357270

J2=F_MX5_NA_LCA_BJ
J2_BODY_A=F_MX5_NA_LCA_BODY
J2_BODY_B=HUB_L
J2_POS=0.089577, -0.088713, 0.002803
J2_KP=0

STEER_JOINT_0=F_MX5_NA_TOE
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.435741, -0.075000, 0.070000 ;Stock
STEER_JOINT_0_POS_A_1=0.435741, -0.075000, 0.095000 ;High
STEER_JOINT_0_POS_A_2=0.435741, -0.075000, 0.095000 ;Low

STEER_JOINT_0_POS_B=0.076817, -0.067408, 0.104900 ;Stock
STEER_JOINT_0_POS_B_1=0.078817, -0.067408, 0.078900 ;High
STEER_JOINT_0_POS_B_2=0.083817, -0.067408, 0.076900 ;Low

;MX5 NA Front Adjusters

BODY_1_NAME=F_MX5_NA_RLCA_PICKUP
BODY_1_MASS=1
BODY_1_INERTIA=0.1, 0.1, 0.1
BODY_1_POS=0.435603, -0.094810, -0.357270
BODY_1_MIRROR=1

SLIDER_0=F_MX5_NA_RLCA_SLIDER
SLIDER_0_BODY_A=CHASSIS
SLIDER_0_BODY_B=F_MX5_NA_RLCA_PICKUP
SLIDER_0_POS_A=0.535603, -0.094810, -0.357270
SLIDER_0_POS_B=0.435603, -0.094810, -0.357270
SLIDER_0_PARITY=-1

DJ2=F_MX5_NA_RLCA_ADJUSTER
DJ2_BODY_A=CHASSIS
DJ2_BODY_B=F_MX5_NA_RLCA_PICKUP
DJ2_POS_A=0.535603, -0.094810, -0.357270
DJ2_POS_B=0.435603, -0.094810, -0.357270

;MX5 NA Front Sim Stuff

BODY_0_NAME=F_MX5_NA_LCA_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.26259, -0.09170, -0.09366
BODY_0_MIRROR=1

TOE_OUT=0.00000 ;-0.10
STATIC_CAMBER=1.01 ;-3.00
STEER_JOINT_0_LENGTH_OFFSET=-0.00151 ;Steer Toe
DJ0_LENGTH_OFFSET=-0.01101 ;UCA F Camber
DJ1_LENGTH_OFFSET=-0.01101 ;UCA R Camber
DJ2_LENGTH_OFFSET=0.00251 ;RLCA Caster
;30L, Driver

[FRONT_COILOVER_0] ;Corner spring
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=0
PRELOAD=0.015 ;0.034, 0.015
;(Drift -0.030 @ wheel, -0.019 @ damper)

BODY_A=CHASSIS
BODY_B=F_MX5_NA_LCA_BODY
POS_A=0.257322, 0.284533, -0.040373
POS_B=0.196250, -0.060566, 0.004199

MIN_LENGTH=0.25528
MAX_LENGTH=0.36828
BUMPSTOP_GAP=0.035

;DAMPER_TRAVEL = 0.079, 0.034
;PACKER_HEIGHT = 0.063
;BUMPSTOP_GAP = 0.016 + 0.019 = 0.035
;DAMPER_LENGTH = 0.35328 - 0.019 = 0.33428

;NA6 H=0.050
;NA8 H=0.063
;Tokico Illumina 79/34 -30

INSTALL_RATE=1542857.143
RATE=137340
;14

[REAR]
TYPE=COSMIC
BASEY=-0.205								; Distance of CG from the center of the wheel in meters. Rear Wheel Radius+BASEY=Rear CoG  Actual CG height =(FWR+FBasey)+(RWR+Rbasey))/CG_LOCATION%
TRACK=1.520
;NA 1.430 (ET45)
;NB 1.440 (ET40)
HUB_MASS=30.685
;30.685kg NA
RIM_OFFSET=0.0095
;NA 0.045
;NB 0.040
;Watanabe RS Type-A 6.5XJ14 0.0095

;MX5 NA Rear Geo

DJ0=R_MX5_NA_UCA_FRONT
DJ0_BODY_A=CHASSIS_REAR
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.374758, 0.113968, 0.122673
DJ0_POS_B=0.162835, 0.120697, 0.037450

DJ1=R_MX5_NA_UCA_REAR
DJ1_BODY_A=CHASSIS_REAR
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.374758, 0.113968, -0.048841
DJ1_POS_B=0.162835, 0.120697, 0.037450
DJ1_KP=1

J0=R_MX5_NA_LCA_FRONT
J0_BODY_A=R_MX5_NA_FLCA_PICKUP
J0_BODY_B=R_MX5_NA_LCA_BODY
J0_POS=0.510374, -0.066919, 0.161893

J1=R_MX5_NA_LCA_REAR
J1_BODY_A=R_MX5_NA_RLCA_PICKUP
J1_BODY_B=R_MX5_NA_LCA_BODY
J1_POS=0.510374, -0.066919, -0.161126

J2=R_MX5_NA_LCA_BJ
J2_BODY_A=R_MX5_NA_LCA_BODY
J2_BODY_B=HUB_L
J2_POS=0.117716, -0.098374, 0.071319 ;0.000906
J2_KP=0

STEER_JOINT_0=R_MX5_NA_TOE
STEER_JOINT_0_BODY_A=R_MX5_NA_RLCA_PICKUP
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.510374, -0.066919, -0.161126
STEER_JOINT_0_POS_B=0.117716, -0.098374, -0.070413

;MX5 NA Rear Adjusters

BODY_2_NAME=R_MX5_NA_FLCA_PICKUP
BODY_2_MASS=1
BODY_2_INERTIA=0.1, 0.1, 0.1
BODY_2_POS=0.510374, -0.066919, 0.161893
BODY_2_MIRROR=1

SLIDER_0=R_MX5_NA_FLCA_SLIDER
SLIDER_0_BODY_A=CHASSIS_REAR
SLIDER_0_BODY_B=R_MX5_NA_FLCA_PICKUP
SLIDER_0_POS_A=0.610374, -0.066919, 0.161893
SLIDER_0_POS_B=0.510374, -0.066919, 0.161893
SLIDER_0_PARITY=-1

DJ2=R_MX5_NA_FLCA_ADJUSTER
DJ2_BODY_A=CHASSIS_REAR
DJ2_BODY_B=R_MX5_NA_FLCA_PICKUP
DJ2_POS_A=0.610374, -0.066919, 0.161893
DJ2_POS_B=0.510374, -0.066919, 0.161893

BODY_3_NAME=R_MX5_NA_RLCA_PICKUP
BODY_3_MASS=1
BODY_3_INERTIA=0.1, 0.1, 0.1
BODY_3_POS=0.510374, -0.066919, -0.161126
BODY_3_MIRROR=1

SLIDER_1=R_MX5_NA_RLCA_SLIDER
SLIDER_1_BODY_A=CHASSIS_REAR
SLIDER_1_BODY_B=R_MX5_NA_RLCA_PICKUP
SLIDER_1_POS_A=0.610374, -0.066919, -0.161126
SLIDER_1_POS_B=0.510374, -0.066919, -0.161126
SLIDER_1_PARITY=-1

DJ3=R_MX5_NA_RLCA_ADJUSTER
DJ3_BODY_A=CHASSIS_REAR
DJ3_BODY_B=R_MX5_NA_RLCA_PICKUP
DJ3_POS_A=0.610374, -0.066919, -0.161126
DJ3_POS_B=0.510374, -0.066919, -0.161126

;MX5 NA Rear Sim Stuff

BODY_1_NAME=R_MX5_NA_LCA_BODY
BODY_1_MASS=1
BODY_1_INERTIA=0.1, 0.1, 0.1
BODY_1_POS=0.31405, -0.08265, 0.00064
BODY_1_MIRROR=1

BODY_0_NAME=CHASSIS_REAR
BODY_0_MASS=430.3898
;1066 - ((29.5 * 2) + (30.685 * 2) + (1 * 10)))  * (1 - 0.540)
BODY_0_INERTIA=1.200, 1.300, 3.400
BODY_0_CARPOS=0, 0, 0

HJ0=TORSION_HINGE
HJ0_BODY_A=CHASSIS
HJ0_BODY_B=CHASSIS_REAR
HJ0_CARPOS_A=0, 0, 1
HJ0_CARPOS_B=0, 0, -1

ENGINE_TORQUE_BODY=CHASSIS_REAR

TOE_OUT=0.00035 ;+0.15
STATIC_CAMBER=-1.11 ;-0.00
DJ0_LENGTH_OFFSET=0.00601 ;UCA F Camber
DJ1_LENGTH_OFFSET=0.00601 ;UCA R Camber
DJ2_LENGTH_OFFSET=-0.00201 ;FLCA Camber
DJ3_LENGTH_OFFSET=-0.00201 ;RLCA Toe
;30L, Driver

[REAR_COILOVER_0] ;Corner spring
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=0
PRELOAD=0.013 ;0.034, 0.013
;(Drift -0.030 @ wheel, -0.021 @ damper)

BODY_A=CHASSIS_REAR
BODY_B=R_MX5_NA_LCA_BODY
POS_A=0.276590, 0.262594, -0.052172
POS_B=0.200302, -0.092084, -0.051300

MIN_LENGTH=0.26479
MAX_LENGTH=0.39579
BUMPSTOP_GAP=0.035

;DAMPER_TRAVEL = 0.077, 0.054
;PACKER_HEIGHT = 0.063
;BUMPSTOP_GAP = 0.014 + 0.021 = 0.035
;DAMPER_LENGTH = 0.36279 - 0.021 = 0.34179

;NA6 H=0.050
;NA8 H=0.063
;Tokico Illumina 77/54 -30

INSTALL_RATE=1542857.143
RATE=88290
;9

[REAR_TORSION_0]
RATE=5152
PRELOAD=0
HINGE=TORSION_HINGE
PARITY=0

[REAR_DAMPER_0] ;Torsion damper
BODY_A=CHASSIS
BODY_B=CHASSIS_REAR
POS_A=0, 1, 0
POS_B=0, 0, 0
DAMP_BUMP=10000
DAMP_FAST_BUMP=10000
DAMP_FAST_BUMPTHRESHOLD=1
DAMP_REBOUND=10000
DAMP_FAST_REBOUND=10000
DAMP_FAST_REBOUNDTHRESHOLD=1
PARITY=0

[GRAPHICS_OFFSETS]
WHEEL_LF=-0.000
SUSP_LF=-0.000
WHEEL_RF=0.000
SUSP_RF=0.000
WHEEL_LR=-0.010
SUSP_LR=-0.010
WHEEL_RR=0.010
SUSP_RR=0.010

[DAMAGE]
MIN_VELOCITY=40
GAIN=0.0004
MAX_DAMAGE=0.05
DEBUG_LOG=1