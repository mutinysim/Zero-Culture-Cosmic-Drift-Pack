[HEADER]
VERSION=4

[_EXTENSION]
TORQUE_MODE_EX=2
FIX_PROGRESSIVE_RATE=1
DAMPER_LUTS=1

;[ODE]                          ;optional - tuning these parameters can help with stability. See Open Dynamics Engine Manual (http://ode.org/wiki/index.php/Manual#Joint_error_and_the_Error_Reduction_Parameter_.28ERP.29) for more information.
;ERP=0.9                        ;this is the AC default for certain joint types, others (and global value) are 0.3
;CFM=1                          ;*10^-7 - just did this to keep numbers more reasonable

[_EXTENSION_FLEX]
TORSIONAL_STIFFNESS=10000  ; Nm/deg
TORSIONAL_DAMPING=100  

[BASIC]
WHEELBASE=2.65					; Wheelbase distance in meters
CG_LOCATION=0.53						; Front Weight distribution in percentance

[ARB]
EXTEND=1
FRONT_MOTION_RATIO=1.0
FRONT=13506
REAR_MOTION_RATIO=1.0
REAR=13517
;F ARB diameter = 27.2 OD 16.6 ID
;F ARB MR = 0.544^2
;F ARB Droplink angle = N/A
;F ARB dimension X = 160 (249)
;F ARB dimension Y = 812
;F ARB dimension Z = 283 (372)

;R ARB diameter = 24.2 OD 18.2 ID
;R ARB MR = 0.591^2
;R ARB Droplink angle = N/A
;R ARB dimension X = 144 (213)
;R ARB dimension Y = 889
;R ARB dimension Z = 144 (213)


[FRONT]
TYPE=COSMIC
BASEY=-0.140								; Distance of CG from the center of the wheel in meters. Front Wheel Radius+BASEY=front CoG. Actual CG height =(FWR+FBasey)+(RWR+Rbasey))/CG_LOCATION%
TRACK=1.635									; Track width in meters (from pivot 3D placement of the 3d model of a wheel)
;1.555 ET40
HUB_MASS=55
RIM_OFFSET=0.013
;Volk TE37 9.5JX18 ET23
;0.010 spacer

;Z34 Front Drift Geo

;High
;STEER_JOINT_0_POS_A = 0.000, 0.000, +0.025
;STEER_JOINT_0_POS_B = -0.025, 0.000, +0.035

;Low
;STEER_JOINT_0_POS_A = 0.000, 0.000, +0.025
;STEER_JOINT_0_POS_B = -0.035, 0.000, +0.040

DJ0=F_Z34_UCA_FRONT
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.35000, 0.40000, 0.12000
DJ0_POS_B=0.15250, 0.42000, -0.04400

DJ1=F_Z34_UCA_REAR
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.35000, 0.33000, -0.11000
DJ1_POS_B=0.15250, 0.42000, -0.04400
DJ1_KP=1

J0=F_Z34_LCA_FRONT
J0_BODY_A=CHASSIS
J0_BODY_B=F_Z34_LCA_BODY_2
J0_POS=0.42000, -0.12000, 0.02000

J1=F_Z34_LCA_REAR
J1_BODY_A=CHASSIS
J1_BODY_B=F_Z34_LCA_BODY_2
J1_POS=0.38000, -0.12000, -0.30000

J2=F_Z34_LCA_BJ
J2_BODY_A=F_Z34_LCA_BODY
J2_BODY_B=HUB_L
J2_POS=0.08000, -0.12000, 0.00500
J2_KP=0

STEER_JOINT_0=F_Z34_TOE
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.39000, -0.10400, -0.14500 ;Stock
STEER_JOINT_0_POS_A_1=0.39000, -0.10400, -0.12000 ;High
STEER_JOINT_0_POS_A_2=0.39000, -0.10400, -0.12000 ;Low

STEER_JOINT_0_POS_B=0.11000, -0.10000, -0.15500 ;Stock
STEER_JOINT_0_POS_B_1=0.08500, -0.10000, -0.12000 ;High
STEER_JOINT_0_POS_B_2=0.07500, -0.10000, -0.11500 ;Low

;Z34 Front Adjusters

SLIDER_0=F_Z34_LCA_BODY_SLIDER
SLIDER_0_BODY_A=F_Z34_LCA_BODY
SLIDER_0_BODY_B=F_Z34_LCA_BODY_2
SLIDER_0_POS_A=0.24000, -0.12000, -0.07000
SLIDER_0_POS_B=0.34000, -0.12000, -0.07000
SLIDER_0_PARITY=-1

DJ2=F_Z34_LCA_BODY_ADJUSTER
DJ2_BODY_A=F_Z34_LCA_BODY
DJ2_BODY_B=F_Z34_LCA_BODY_2
DJ2_POS_A=0.24000, -0.12000, -0.07000
DJ2_POS_B=0.34000, -0.12000, -0.07000

;Z34 Front Sim Stuff

BODY_0_NAME=F_Z34_LCA_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.24000, -0.12000, -0.07000
BODY_0_MIRROR=1

BODY_1_NAME=F_Z34_LCA_BODY_2
BODY_1_MASS=1
BODY_1_INERTIA=0.1, 0.1, 0.1
BODY_1_POS=0.24000, -0.12000, -0.07000
BODY_1_MIRROR=1

TOE_OUT=0.00000 ;-0.05
STATIC_CAMBER=-0.71 ;-3.00
STEER_JOINT_0_LENGTH_OFFSET=0.00981 ;Steer Toe
DJ0_LENGTH_OFFSET=0.00301 ;UCA F Camber
DJ1_LENGTH_OFFSET=0.00301 ;UCA R Camber
DJ2_LENGTH_OFFSET=0.01001 ;LCA Camber
;30L, Drift, Driver

[FRONT_COILOVER_0] ;Corner spring
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=0
PRELOAD=0.012 ;0.034, 0.012
;(Drift -0.040 @ wheel, -0.025 @ damper)

BODY_A=CHASSIS
BODY_B=F_Z34_LCA_BODY
POS_A=0.37000, 0.48000, -0.04000
POS_B=0.22756, -0.12000, 0.01000

MIN_LENGTH=0.5467
MAX_LENGTH=0.6267
BUMPSTOP_GAP=0.032

;DAMPER_TRAVEL = 0.050, 0.030
;PACKER_HEIGHT = 0.040
;BUMPSTOP_GAP = 0.010 + 0.022 = 0.032
;DAMPER_LENGTH = 0.6187 - 0.022 = 0.5967

;370Z Tuned 50/30 -40

INSTALL_RATE=1542857.143
RATE=235440
;24

[REAR]
TYPE=COSMIC
BASEY=-0.140							; Distance of CG from the center of the wheel in meters. Rear Wheel Radius+BASEY=Rear CoG  Actual CG height =(FWR+FBasey)+(RWR+Rbasey))/CG_LOCATION%
TRACK=1.626
;1.580 ET23
HUB_MASS=55
RIM_OFFSET=0.003
;Volk TE37 9.5JX18 ET23
;0.020 spacer

;Z34 Rear Geo

DJ0=R_Z34_UCA_FRONT
DJ0_BODY_A=CHASSIS_REAR
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.39300, 0.11500, 0.13000
DJ0_POS_B=0.15300, 0.14000, 0.04000

DJ1=R_Z34_UCA_REAR
DJ1_BODY_A=CHASSIS_REAR
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.45300, 0.12000, -0.08000
DJ1_POS_B=0.15300, 0.14000, 0.04000
DJ1_KP=1

DJ2=R_Z34_LCA_FRONT
DJ2_BODY_A=CHASSIS_REAR
DJ2_BODY_B=HUB_L
DJ2_POS_A=0.23300, -0.09000, 0.28000
DJ2_POS_B=0.14300, -0.14000, 0.06000

DJ3=R_Z34_LCA_REAR
DJ3_BODY_A=CHASSIS_REAR
DJ3_BODY_B=HUB_L
DJ3_POS_A=0.49300, -0.14300, 0.10000
DJ3_POS_B=0.15300, -0.17000, 0.09000
DJ3_KP=0

STEER_JOINT_0=R_Z34_TOE
STEER_JOINT_0_BODY_A=CHASSIS_REAR
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.61300, -0.05000, -0.17000
STEER_JOINT_0_POS_B=0.14300, -0.05000, -0.15000

;Z34 Rear Sim Stuff

BODY_0_NAME=CHASSIS_REAR
BODY_0_MASS=588.72
;1562 - ((55 * 2) + (55 * 2) + (1 * 4)))  * (1 - 0.560)
BODY_0_INERTIA=1.350, 1.200, 4.100
BODY_0_CARPOS=0, 0, 0

HJ0=TORSION_HINGE
HJ0_BODY_A=CHASSIS
HJ0_BODY_B=CHASSIS_REAR
HJ0_CARPOS_A=0, 0, 1
HJ0_CARPOS_B=0, 0, -1

ENGINE_TORQUE_BODY=CHASSIS_REAR

TOE_OUT=0.00000 ;+0.20
STATIC_CAMBER=-1.51 ;-0.00
STEER_JOINT_0_LENGTH_OFFSET=0.00291 ;Steer Toe
DJ0_LENGTH_OFFSET=0.01001 ;UCA F Camber
DJ1_LENGTH_OFFSET=0.01001 ;UCA R Camber
DJ3_LENGTH_OFFSET=-0.00351 ;LCA R Camber
DJ2_LENGTH_OFFSET=0.01001 ;LCA F Bumpsteer
;30L, Drift, Driver

[REAR_COILOVER_0] ;Corner spring
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=0
PRELOAD=0.012 ;0.047, 0.012
;(Drift -0.040 @ wheel, -0.040 @ damper)

BODY_A=CHASSIS_REAR
BODY_B=HUB_L
POS_A=0.32300, 0.48000, -0.03000
POS_B=0.27300, 0.05000, -0.02000

MIN_LENGTH=0.32801
MAX_LENGTH=0.45801
BUMPSTOP_GAP=0.065

;DAMPER_TRAVEL = 0.070, 0.060
;PACKER_HEIGHT = 0.040
;BUMPSTOP_GAP = 0.030 + 0.035 = 0.065
;DAMPER_LENGTH = 0.43301 - 0.035 = 0.39801

;370Z Tuned 70/60 -40

INSTALL_RATE=1542857.143
RATE=58860
;6

[REAR_TORSION_0]
RATE=35000
PRELOAD=0
HINGE=TORSION_HINGE
PARITY=0

[REAR_DAMPER_0] ;Torsion damper
BODY_A=CHASSIS
BODY_B=CHASSIS_REAR
POS_A=0, 1, 0
POS_B=0, 0, 0
DAMP_BUMP=10000
DAMP_FAST_BUMP=10000
DAMP_FAST_BUMPTHRESHOLD=1
DAMP_REBOUND=10000
DAMP_FAST_REBOUND=10000
DAMP_FAST_REBOUNDTHRESHOLD=1
PARITY=0

[GRAPHICS_OFFSETS]
WHEEL_LF=-0.035							;Left front graphical offset of the wheel positioning in the x axis (width). + is left - is right movement
SUSP_LF=-0.035						;Left front graphical offset of the suspension positioning in the x axis (width). + is left - is right movement
WHEEL_RF=0.035				; Right front as above
SUSP_RF=0.035							; Right front as above
WHEEL_LR=-0.05					; Left rear as above
SUSP_LR=-0.05								; Left rear as above
WHEEL_RR=0.05							; Right rear as above
SUSP_RR=0.05				; Right rear as above

[DAMAGE]
MIN_VELOCITY=40				; MINUMUM VELOCITY TO START TAKING DAMAGE
GAIN=0.0004					; AMOUNT OF STEER ROD DEFLECTION FOR IMPACT KMH
MAX_DAMAGE=0.05			; MAXIMUM AMOUNT OF STEER ROD DEFLECTION ALLOWED
DEBUG_LOG=1					; ACTIVATES DAMAGE DEBUG IN THE LOG

